<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">

    <!-- We need to try loading the css from whatever hierarchy we are in -->
    <!-- This can be local folder, sibling folder, or parent folder -->
    <!-- TODO: Try to make this a little less cludgy -->
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- We need to try loading the css from whatever hierarchy we are in -->
    <!-- This can be local folder, sibling folder, or parent folder -->
    <!-- TODO: Try to make this a little less cludgy -->
    <link href="node_modules/node-syntaxhighlighter/lib/styles/shCoreDefault.css" rel="stylesheet">
    <link href="../node-syntaxhighlighter/lib/styles/shCoreDefault.css" rel="stylesheet">
    <link href="../../node-syntaxhighlighter/lib/styles/shCoreDefault.css" rel="stylesheet">

    <link href="./css/styles.css" rel="stylesheet" >
  </head>

  <body>
    <div class='container-fluid main-page'>
      <div class='row panes-holder'>
        <!-- Left panel -->
        <div class='col-2 pt-3 pb-3 pane asset-pane text-light bg-secondary'>
          <div id="accordion" role="tablist" aria-multiselectable="true">
            <div class="card text-light bg-secondary">
              <div class="card-header pt-1 pb-1" role="tab" id="heading_documents">
                <a class="btn btn-primary btn-block" data-toggle="collapse" data-parent="#accordion" href="#collapse_documents" aria-expanded="true" aria-controls="collapseOne">
                  Documents
                </a>
              </div>

              <div id="collapse_documents" class="collapse show" role="tabpanel" aria-labelledby="heading_documents">
                <div class="card-block m-0 p-0 asset-list">
                  <table class='table table-hover table-sm mb-0'>
                    <tbody id="documentList"></tbody>
                  </table>
                </div>
              </div>
            </div>

            <div class="card text-light bg-secondary">
              <div class="card-header pt-1 pb-1" role="tab" id="heading_images">
                <a  class="btn btn-primary btn-block" data-toggle="collapse" data-parent="#accordion" href="#collapse_images" aria-expanded="true" aria-controls="collapseOne">
                  Images
                </a>
              </div>
              <div id="collapse_images" class="collapse" role="tabpanel" aria-labelledby="heading_images">
                <div class="card-block m-0 p-0 asset-list">
                  <table class='table table-hover table-sm'>
                    <tbody id="imageList"></tbody>
                  </table>
                </div>
              </div>
            </div>

            <div class="card text-light bg-secondary">
              <div class="card-header pt-1 pb-1" role="tab" id="heading_tags">
                <a class="btn btn-primary btn-block" data-toggle="collapse" data-parent="#accordion" href="#collapse_tags" aria-expanded="true" aria-controls="collapseOne">
                  Tags
                </a>
              </div>
              <div id="collapse_tags" class="collapse" role="tabpanel" aria-labelledby="heading_tags">
                <div class="card-block m-0 p-0 asset-list">
                  <div id="tagList" class="tagList"></div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- Preview pane -->
        <div class='col-7 pt-3 pb-3 pane'>
          <div id='flip_controls'>
            <button type='button'
                    class='btn btn-primary btn-lg btn-block'
                    onClick='flipPage();'>Flip
            </button>
          </div>
          <span class='border-1 mt-4'>
            <div class='code-block container mt-1 pt-2 bg-faded' id='source_code'>
              <div id='source_code_content'></div>
            </div>

            <div class='container center-block mt-1' id='image_preview'></div>

            <div class='preview-frame-holder container center-block mt-1' id='preview_frame_holder' >
              <iframe class='preview-frame' frameborder='0' id='preview_frame'></iframe>
            </div>
          </span>
        </div>

        <!-- Metadata panel -->
        <div class='col-3 pt-3 pb-3 pane metadata-pane text-light bg-secondary'>
          <div class='container p-0 m-0' id='metadata'></div>
        </div>
      </div>
    </div>
    <footer class='footer mt-2 text-light bg-secondary'>
      <div class='container p-0 m-0'>
        <center>
          <!-- All of the Node.js APIs are available in this renderer process. -->
          Node <script>document.write(process.versions.node);</script>,
          Chromium <script>document.write(process.versions.chrome);</script>,
          Electron <script>document.write(process.versions.electron);</script>
        </center>
      </div>
    </footer>
  </body>

  <script>
    // You can also require other files to run in this process
    try {
        global.jQuery = require('jquery');
        global.$ = global.jQuery;
        global.Tether = require('tether');
        global.Popper = require('popper.js');
        require('bootstrap');

        require('./main_renderer.js');
        require('./preview_renderer.js');
        require('./metadata_renderer.js');
    } catch (e) {
        console.log(e.message);
        alert(e.message);
    }
  </script>
</html>
